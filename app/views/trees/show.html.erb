<% content_for(:title_code, 'trees.show.name') %>
<% content_for(:page_class, 'trees') %>

<div class='container'>
  <!--  loop through config obj for the headers -->
  <div class='detail-page'>
    <% @detailTables[TreeTypeConfig::HEADERS].each do |key, table| %>
      <%= render partial: "trees/show/#{table[:table_partial_name]}", locals: { table: table } %>
    <% end %>
    <div class='col col-lg-12 text-right'>
      <% if @editMe %>
        <span class='font-weight-bold'>Editing (<%= link_to("#{I18n.t('app.labels.leave_edit_mode')}", tree_path(@tree.id) ) %>)</span>
      <% else %>
        <%= link_to("Edit #{@hierarchies[@treeTypeRec[:outcome_depth]]}", tree_path(@tree.id, editme: @tree.id) ) if current_user.present? && can?(:edit, Tree.new(depth: @treeTypeRec.outcome_depth)) %>
        <!-- # %= link_to("Edit LO", edit_tree_path(@tree.id), {:remote => true, 'data-toggle' =>  "modal", 'data-target' => '#modal_popup'}) % -->
      <% end %>
      <button class="btn btn-primary print-btn"><span class="fa fa-print"></span> <%= I18n.translate("app.labels.print")%></button>
    </div>
    <% @detailTables[TreeTypeConfig::TABLES].each do |key, table| %>
      <%= render partial: "trees/show/#{table[:table_partial_name]}", locals: { table: table } %>
    <% end %>
   <div id="tracker-sections-table" class="margin-top related-items-table">
      <div class='row dark-border colorful-header colorful-header-0  generic-grid generic-grid--cols-1'>
        Tracker Sections (for subject/grade?)
      </div>
      <div id="tracker-sections-data" class="padding-left padding-right dark-border generic-grid generic-grid--cols-1">
        <% @sections.each do |section| %>
          <%= intercomponent_link("#{section['section_name']} #{section['section_line_number']}", "http://localhost:3006/sections/#{section['section_id']}") %>
        <% end %>
      </div>
    </div>
  </div>
</div>
